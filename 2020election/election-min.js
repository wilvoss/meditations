function ElectionDataObject(t){this.year=t.year,this.state=t.state.toLowerCase(),this.state_po=t.state_po,this.county_name=t.county_name.toLowerCase(),this.county_fips=t.county_fips,this.office=t.office,this.candidate=t.candidate,this.party=t.party,this.candidatevo=t.candidatevo,this.totalvotes=t.totalvotes,this.version=t.version,this.mode=t.mode,this.percentofvo=Math.round(t.candidatevo/t.totalvotes*1e3)/10,this.winner=!1,this.loser=!1,this.firstCandidateListed=!0,this.id=t.id,this.expanded=null!=t.expanded&&t.expanded}Vue.config.devtools=!1,Vue.config.debug=!1,Vue.config.silent=!0,Vue.config.ignoredElements=["controls","control","app"];var app=new Vue({el:"#app",data:{censusData:[],electionResults:[],electionCount:0,countedVotes:0,totalElectionCountForBiden:0,totalElectionCountForTrump:0,lowerLimit:2e5,upperLimit:5e6,expandAll:!1,loaded:!1,currentCounty:null,currentYoffset:0,r:document.querySelector(":root"),c:window.getComputedStyle(document.querySelector(":root"))},methods:{async OnWindowLoad(){},async GetCensusData(){await axios.get("countypres_2000-2020.csv").then((t=>{this.censusData=t.data.replaceAll('"',"").replaceAll("\r\n",",").split(",")})),this.FilterByLowerAndUpperLimits()},SetCurrentCounty(t){this.currentCounty=t.target;let e=this.currentCounty.getAttribute("context");e.expanded=!e.expanded,this.currentYoffset=t.clientY},ToggleCounties(t){this.expandAll=!this.expandAll,null!=this.currentCounty&&window.setTimeout((function(){window.scrollTo({top:app.currentCounty.offsetTop-app.currentYoffset,left:0}),app.currentCounty=null,app.currentYoffset=0}),0)},FilterByLowerAndUpperLimits(){this.loaded=!1,this.lowerLimit=Number(this.lowerLimit),this.upperLimit=Number(this.upperLimit),this.electionResults=[],this.electionCount=0,this.countedVotes=0,this.totalElectionCountForBiden=0,this.totalElectionCountForTrump=0;let t=1,e=null;for(let n=1;n<this.censusData.length/8-8;n++){let o=8*n,a=new ElectionDataObject({year:this.censusData[o],state:this.censusData[o+1],county_name:this.censusData[o+2],county_fips:this.censusData[o+3],candidate:this.censusData[o+4],party:this.censusData[o+5],candidatevo:this.censusData[o+6],totalvotes:this.censusData[o+7]});"OTHER"!=a.candidate.toUpperCase()&&"JO JORGENSEN"!=a.candidate.toUpperCase()&&2020==a.year&&a.totalvotes>this.lowerLimit&&a.totalvotes<=this.upperLimit&&(null!=e&&e.candidate!=a.candidate&&e.state==a.state&&e.county_name==a.county_name&&(Number(a.candidatevo)>Number(e.candidatevo)?(a.winner=!0,e.loser=!0):e.winner=!0,a.loser=!0,a.winner&&(a.loser=!1),a.firstCandidateListed=!1),Number(a.candidatevo)/Number(a.totalvotes)>.5&&(a.winner=!0),a.firstCandidateListed&&(a.id="county"+t++),"JOSEPH R BIDEN JR"==a.candidate.toUpperCase()&&(this.totalElectionCountForBiden+=Number(a.candidatevo)),"DONALD J TRUMP"==a.candidate.toUpperCase()&&(this.totalElectionCountForTrump+=Number(a.candidatevo)),0==isNaN(parseFloat(a.candidatevo))&&(this.countedVotes+=Number(a.candidatevo)),null!=e&&a.candidate===e.candidate&&a.county_fips===e.county_fips?e.candidatevo=Number(e.candidatevo)+Number(a.candidatevo):(e=a,this.electionResults.push(e))),0==isNaN(parseFloat(a.candidatevo))&&2020==a.year&&(this.electionCount+=Number(a.candidatevo))}for(let t=0;t<this.electionResults.length;t++){const e=this.electionResults[t];e.candidate=e.candidate.replaceAll("JOSEPH R BIDEN JR","Biden").replaceAll("DONALD J TRUMP","Trump")}this.loaded=!0}},mounted(){this.GetCensusData()},computed:{electionResultsByState:function(){return this.electionResults.sort((function(t,e){return t.state<e.state?-1:t.state>e.state?1:0}))},electionResultsByCandidate:function(){return this.electionResults.sort((function(t,e){return t.candidate<e.candidate?-1:t.candidate>e.candidate?1:0}))},electionResultsByTotalVotes:function(){return this.electionResults.sort((function(t,e){return Number(t.totalvotes)>Number(e.totalvotes)?-1:Number(t.totalvotes)<Number(e.totalvotes)?1:0}))}}});